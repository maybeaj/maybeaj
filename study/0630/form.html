<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>폼 검증</title>
	</head>
	<body>
		<input id="orderName" type="text" placeholder="주문자 이름" />
		<input id="shipName" type="text" placeholder="수령인 이름" />
		<input id="same" type="checkbox" onclick="copyName()" />

		<br />

		<input id="userName" type="text" placeholder="이름" />
		<input id="userAge" type="number" placeholder="나이" />
		<input id="submit" type="submit" value="제출" onclick="validateForm()" />

		<br />

		<input
			id="gender"
			type="radio"
			name="gender"
			value="male"
			onclick="validateGender()"
		/>
		<label for="gender">남자</label>
		<input
			id="gender"
			type="radio"
			name="gender"
			value="female"
			onclick="validateGender()"
		/>
		<label for="gender">여자</label>

		<select id="country" onchange="validateCountry()">
			<option value="korea">한국</option>
			<option value="usa">미국</option>
			<option value="japan">일본</option>
		</select>

		<script>
			function copyName() {
				if (document.getElementById("same").checked) {
					document.getElementById("shipName").value =
						document.getElementById("orderName").value;
				} else {
					document.getElementById("shipName").value = "";
				}
			}

			function validateForm() {
				let name = document.getElementById("userName").value;
				let age = document.getElementById("userAge").value;

				if (name === "") {
					alert("이름을 입력하세요.");
					return false;
				}

				if (isNaN(age) || age < 1) {
					alert("나이를 올바르게 입력하세요.");
					return false;
				}

				alert("폼이 정상적으로 제출됩니다.");
				return true;
			}

			function validateGender() {
				alert(document.querySelector('input[name="gender"]:checked').value);
			}

			function validateCountry() {
				let country = document.getElementById("country").value;
				console.log(country);
			}
		</script>

		<form id="signupForm">
			<input type="text" id="username" placeholder="이름 입력" /><br />
			<input type="email" id="email" placeholder="이메일 입력" /><br />
			<input type="password" id="password" placeholder="비밀번호 입력" /><br />
			<input
				type="password"
				id="confirmPassword"
				placeholder="비밀번호 확인"
			/><br />
			<button type="submit">가입</button>
		</form>

		<script>
			document
				.getElementById("signupForm")
				.addEventListener("submit", function (e) {
					e.preventDefault(); // 폼 제출 막기

					const username = document.getElementById("username").value.trim();
					const email = document.getElementById("email").value.trim();
					const password = document.getElementById("password").value;
					const confirmPassword =
						document.getElementById("confirmPassword").value;

					if (!username) {
						alert("이름을 입력하세요.");
						return;
					}

					const emailRegex = /^[\w.-]+@[\w.-]+\.[A-Za-z]{2,}$/;
					if (!emailRegex.test(email)) {
						alert("올바른 이메일을 입력하세요.");
						return;
					}

					if (password.length < 8) {
						alert("비밀번호는 8자 이상이어야 합니다.");
						return;
					}

					if (password !== confirmPassword) {
						alert("비밀번호가 일치하지 않습니다.");
						return;
					}

					alert("회원가입 성공!");
					// 이곳에 실제 서버 전송 코드를 추가
				});
		</script>

		<form id="myForm">
			<input type="email" required />
			<button>제출</button>
		</form>

		<script>
			const form = document.getElementById("myForm");
			form.addEventListener("submit", function (e) {
				if (!form.checkValidity()) {
					e.preventDefault(); // 유효성 통과 못하면 제출 막기
					alert("필드를 올바르게 입력하세요.");
				}
			});
		</script>

		<form id="signup">
			<input type="text" id="name" placeholder="이름" />
			<input type="useremail" id="useremail" placeholder="이메일" />
			<input type="password" id="userpassword" placeholder="패스워드" />
			<br />
			<button type="submit">가입</button>
		</form>

		<script>
			document
				.getElementById("signup")
				.addEventListener("submit", function (e) {
					e.preventDefault(); // 폼 제출 막기

					const username = document.getElementById("name").value.trim();
					const useremail = document.getElementById("useremail").value.trim();
					const userpassword = document.getElementById("userpassword").value;

					if (!username) {
						alert("이름을 입력하세요.");
						return;
					}

					const emailRegex = /^[\w.-]+@[\w.-]+\.[A-Za-z]{2,}$/;
					if (!emailRegex.test(useremail)) {
						alert("올바른 이메일을 입력하세요.");
						return;
					}

					if (userpassword.length < 8) {
						alert("비밀번호는 8자 이상이어야 합니다.");
						return;
					}

					alert("회원가입 성공!");

					preview_name.textContent = username;
					preview_email.textContent = useremail;
					preview_password.textContent = userpassword;
				});
		</script>

		<div id="preview">
			<p id="preview_name"></p>
			<p id="preview_email"></p>
			<p id="preview_password"></p>
		</div>

		<script>
			let username = document.getElementById("name").value;
			let email = document.getElementById("useremail").value;
			let password = document.getElementById("userpassword").value;

			let preview_name = document.getElementById("preview_name");
			let preview_email = document.getElementById("preview_email");
			let preview_password = document.getElementById("preview_password");
		</script>
	</body>
</html>
