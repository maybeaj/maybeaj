
## ğŸ“˜ ê°•ì˜ ì œëª©: MongoDB ì´í•´í•˜ê¸° â€“ NoSQLì˜ ëŒ€í‘œì£¼ì

### ğŸ‘¤ ëŒ€ìƒ

* ì›¹ ë°±ì—”ë“œ ë˜ëŠ” í’€ìŠ¤íƒ ê°œë°œì ì§€ë§ìƒ
* ê´€ê³„í˜• DB(RDBMS)ëŠ” ê²½í—˜í–ˆì§€ë§Œ NoSQLì€ ì²˜ìŒ ì ‘í•˜ëŠ” í•™ìŠµì

### ğŸ¯ í•™ìŠµ ëª©í‘œ

* MongoDBì˜ êµ¬ì¡°ì™€ ë™ì‘ ë°©ì‹ì„ ì´í•´í•œë‹¤
* ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì°¨ì´ë¥¼ ë¹„êµí•  ìˆ˜ ìˆë‹¤
* MongoDBì˜ ê¸°ë³¸ì ì¸ CRUD ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤

---

## 1. MongoDBë€?

| í•­ëª©       | ì„¤ëª…                                  |
| -------- | ----------------------------------- |
| ğŸ” ì •ì˜    | JSON ê¸°ë°˜ì˜ ë¬¸ì„œ(Document)í˜• NoSQL ë°ì´í„°ë² ì´ìŠ¤ |
| ğŸ’¡ íŠ¹ì§•    | ìŠ¤í‚¤ë§ˆê°€ ìœ ì—°í•˜ê³ , ê³ ì„±ëŠ¥ ì½ê¸°/ì“°ê¸°, ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥      |
| ğŸ§© ì‚¬ìš©ì–¸ì–´  | Node.js, Python, Java ë“± ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì›   |
| ğŸ”— ë°ì´í„°í˜•íƒœ | BSON(Binary JSON) í¬ë§· ì‚¬ìš©             |

---

## 2. RDB vs MongoDB ë¹„êµ

| í•­ëª©  | RDB(Relational DB) | MongoDB(NoSQL, Document) |
| --- | ------------------ | ------------------------ |
| êµ¬ì¡°  | í…Œì´ë¸”, í–‰, ì—´          | ì»¬ë ‰ì…˜, ë¬¸ì„œ                  |
| ìŠ¤í‚¤ë§ˆ | ì—„ê²©í•œ ìŠ¤í‚¤ë§ˆ í•„ìš”         | ìŠ¤í‚¤ë§ˆê°€ ìœ ì—°í•¨                 |
| ì¡°ì¸  | JOIN ì‚¬ìš©            | ë°ì´í„° ì¤‘ì²©(Nested)           |
| í™•ì¥ì„± | ìˆ˜ì§ í™•ì¥(Scale-Up)    | ìˆ˜í‰ í™•ì¥(Scale-Out)         |
| ì˜ˆì‹œ  | MySQL, PostgreSQL  | MongoDB, CouchDB         |

---

## 3. í•µì‹¬ ê°œë… ì •ë¦¬

| ìš©ì–´             | ì„¤ëª…                         |
| -------------- | -------------------------- |
| **Database**   | ë°ì´í„°ë² ì´ìŠ¤ í•˜ë‚˜ (RDBì˜ DBì™€ ë™ì¼)    |
| **Collection** | í…Œì´ë¸”ê³¼ ìœ ì‚¬, ë¬¸ì„œ(Document)ë“¤ì˜ ì§‘í•© |
| **Document**   | í•˜ë‚˜ì˜ JSON ê°ì²´ì²˜ëŸ¼ ìƒê¸´ ë°ì´í„° ë‹¨ìœ„    |
| **Field**      | JSONì˜ í‚¤-ê°’ ìŒ í˜•íƒœì˜ ì†ì„±         |
| **ObjectId**   | ê° ë¬¸ì„œì˜ ê³ ìœ  ì‹ë³„ì (\_id)        |

```json
// ì˜ˆì‹œ ë¬¸ì„œ (Document)
{
  "_id": ObjectId("abc123..."),
  "title": "Hello MongoDB",
  "author": "Lee",
  "tags": ["database", "NoSQL"],
  "createdAt": "2025-07-27T12:34:00Z"
}
```

---

## 4. MongoDB ì„¤ì¹˜ ë° ì‹œì‘í•˜ê¸°

### ë¡œì»¬ ì„¤ì¹˜ (mac ê¸°ì¤€)

```bash
brew tap mongodb/brew
brew install mongodb-community@7.0
brew services start mongodb-community
```

### CLI ì ‘ì†

```bash
mongosh
```

---

## 5. ê¸°ë³¸ ëª…ë ¹ì–´

| ì‘ì—…        | ëª…ë ¹ì–´ ì˜ˆì‹œ                                                             |
| --------- | ------------------------------------------------------------------ |
| ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ | `use mydb`                                                         |
| ì»¬ë ‰ì…˜ ìƒì„±    | `db.posts.insertOne({...})`                                        |
| ë°ì´í„° ì¡°íšŒ    | `db.posts.find()`                                                  |
| ì¡°ê±´ ì¡°íšŒ     | `db.posts.find({ author: "Lee" })`                                 |
| ìˆ˜ì •        | `db.posts.updateOne({ _id: ... }, { $set: { title: "updated" } })` |
| ì‚­ì œ        | `db.posts.deleteOne({ _id: ... })`                                 |

---

## 6. MongoDB Compass ì†Œê°œ

* MongoDB ê³µì‹ GUI íˆ´
* ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥
* ì¿¼ë¦¬ë„ GUIì—ì„œ ì‹¤í–‰ ê°€ëŠ¥
* [https://www.mongodb.com/try/download/compass](https://www.mongodb.com/try/download/compass)

---

## 7. ì–¸ì œ MongoDBë¥¼ ì‚¬ìš©í• ê¹Œ?

âœ… ì í•©í•œ ê²½ìš°:

* ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” ë°ì´í„° êµ¬ì¡° (ìŠ¤íƒ€íŠ¸ì—… MVP ë“±)
* ë¡œê·¸, ì„¼ì„œ ë°ì´í„°, ì±„íŒ… ë“± ëŒ€ëŸ‰ì˜ ë¹„ì •í˜• ë°ì´í„°
* ìŠ¤í‚¤ë§ˆê°€ ìœ ì—°í•œ í”„ë¡œì íŠ¸

ğŸš« ë¶€ì í•©í•œ ê²½ìš°:

* ë³µì¡í•œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬
* ì •êµí•œ JOINì´ í•„ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

---

## 8. ì‹¤ìŠµ ì˜ˆì œ

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì†
mongosh

# DB ì„ íƒ
use testdb

# ë°ì´í„° ì‚½ì…
db.users.insertOne({ name: "Jaehee", age: 30 })

# ì „ì²´ ì¡°íšŒ
db.users.find()

# íŠ¹ì • ì¡°ê±´ ì¡°íšŒ
db.users.find({ age: { $gt: 25 } })
```

---

## 9. ë³´ë„ˆìŠ¤: MongoDB Atlasë€?

* MongoDBì˜ ê³µì‹ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤
* ë¬´ë£Œ í”Œëœ ì œê³µ (M0 í´ëŸ¬ìŠ¤í„°)
* ì„œë²„ ì„¤ì¹˜ ì—†ì´ í´ë¼ìš°ë“œë¡œ ê°œë°œ ê°€ëŠ¥
* [https://www.mongodb.com/cloud/atlas](https://www.mongodb.com/cloud/atlas)

---

## ğŸ“Œ ë§ˆë¬´ë¦¬ ì •ë¦¬

* MongoDBëŠ” **ë¬¸ì„œê¸°ë°˜ NoSQL**ë¡œ ìœ ì—°í•˜ê³  í™•ì¥ì„±ì´ ë›°ì–´ë‚¨
* RDBì™€ ë¹„êµ ì‹œ JOINì€ ì•½í•˜ì§€ë§Œ êµ¬ì¡° ìœ ì—°ì„±ì—ì„œ ê°•ì 
* `mongoose`, `MongoDB Atlas`, `Compass` ë“±ì„ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•¨

---

## ğŸ™‹ğŸ» ì‹¤ìŠµ ê³¼ì œ

1. `users` ì»¬ë ‰ì…˜ì— ë°ì´í„° 3ê°œ ì‚½ì…
2. ë‚˜ì´ê°€ 25 ì´ìƒì¸ ì‚¬ëŒë§Œ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ ì‘ì„±
3. `isActive: true` í•„ë“œë¥¼ ì¶”ê°€í•˜ëŠ” update ì¿¼ë¦¬ ì‘ì„±
4. `MongoDB Atlas` ê³„ì • ìƒì„± ë° í´ëŸ¬ìŠ¤í„° ì—°ê²° ì‹¤ìŠµ


# ğŸ“˜ ê°•ì˜ ìë£Œ: MongoDB CRUD ì™„ì „ ì •ë³µ

---

## ğŸ§­ í•™ìŠµ ëª©í‘œ

* MongoDBì—ì„œ CRUD ê°œë…ì„ ì´í•´í•œë‹¤
* ê° ëª…ë ¹ì–´ì˜ ê¸°ë³¸ ë¬¸ë²•ê³¼ ë™ì‘ ë°©ì‹ì„ ìµíŒë‹¤
* ì‹¤ì œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ì‹¤ìŠµì„ í†µí•´ MongoDB ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

---

## ğŸ“¦ CRUDë€?

| ë¶„ë¥˜ | ê¸°ëŠ¥     | MongoDB ëª…ë ¹ì–´                             | ì„¤ëª…                  |
| -- | ------ | --------------------------------------- | ------------------- |
| C  | Create | `insertOne`, `insertMany`               | ë¬¸ì„œ(Document)ë¥¼ ìƒˆë¡œ ì¶”ê°€ |
| R  | Read   | `find`, `findOne`                       | ë¬¸ì„œ ê²€ìƒ‰ ë° ì¡°íšŒ          |
| U  | Update | `updateOne`, `updateMany`, `replaceOne` | ë¬¸ì„œì˜ í•„ë“œ ë³€ê²½           |
| D  | Delete | `deleteOne`, `deleteMany`               | ë¬¸ì„œë¥¼ ì‚­ì œ              |

---

## ğŸ§ª ì‹¤ìŠµ í™˜ê²½ ì¤€ë¹„

### MongoDB Shell ì ‘ì†

```bash
mongosh
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ

```js
use doItDB
```

---

## âœ… 1. Create (ë°ì´í„° ìƒì„±)

### ë‹¨ì¼ ë¬¸ì„œ ì‚½ì…

```js
db.users.insertOne({
  name: "Jaehee",
  age: 28,
  email: "jaehee@example.com"
})
```

### ì—¬ëŸ¬ ë¬¸ì„œ ì‚½ì…

```js
db.users.insertMany([
  { name: "Mina", age: 25, email: "mina@example.com" },
  { name: "Dohyung", age: 30, email: "dohyung@example.com" }
])
```

âœ… `_id`ëŠ” ìë™ ìƒì„±ë˜ë©°, ê³ ìœ  ì‹ë³„ì ì—­í• 

---

## ğŸ” 2. Read (ë°ì´í„° ì¡°íšŒ)

### ì „ì²´ ì¡°íšŒ

```js
db.users.find()
```

### ì •ë ¬, ì œí•œ, í˜ì´ì§•

```js
db.users.find().sort({ age: -1 }).limit(2)
```

### ì¡°ê±´ ì¡°íšŒ

```js
// ë‚˜ì´ê°€ 26 ì´ìƒì¸ ì‚¬ìš©ì ì¡°íšŒ
db.users.find({ age: { $gte: 26 } })

// ì´ë©”ì¼ì´ íŠ¹ì • ë¬¸ìì—´ í¬í•¨
db.users.find({ email: /example/ })
```

### íŠ¹ì • í•„ë“œë§Œ ì¡°íšŒ

```js
db.users.find({}, { name: 1, email: 1, _id: 0 })
```

---

## âœï¸ 3. Update (ë°ì´í„° ìˆ˜ì •)

### ë‹¨ì¼ ë¬¸ì„œ ìˆ˜ì •

```js
db.users.updateOne(
  { name: "Jaehee" },
  { $set: { age: 29 } }
)
```

### ì—¬ëŸ¬ ë¬¸ì„œ ìˆ˜ì •

```js
db.users.updateMany(
  { age: { $gte: 30 } },
  { $set: { status: "veteran" } }
)
```

### í•„ë“œ ì¶”ê°€ ë˜ëŠ” ì‚­ì œ

```js
// í•„ë“œ ì¶”ê°€
db.users.updateOne({ name: "Mina" }, { $set: { gender: "female" } })

// í•„ë“œ ì œê±°
db.users.updateOne({ name: "Mina" }, { $unset: { gender: "" } })
```

---

## ğŸ—‘ï¸ 4. Delete (ë°ì´í„° ì‚­ì œ)

### ë‹¨ì¼ ë¬¸ì„œ ì‚­ì œ

```js
db.users.deleteOne({ name: "Jaehee" })
```

### ì—¬ëŸ¬ ë¬¸ì„œ ì‚­ì œ

```js
db.users.deleteMany({ age: { $lt: 28 } })
```

âš ï¸ `deleteMany()`ëŠ” ì¡°ê±´ì— ë§ëŠ” **ëª¨ë“ ** ë¬¸ì„œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì£¼ì˜!

---

## ğŸ§  ì‹¤ìŠµ ê³¼ì œ

| ë²ˆí˜¸ | ì‘ì—… ì„¤ëª…                                |
| -- | ------------------------------------ |
| 1  | ì‚¬ìš©ì 3ëª… ë°ì´í„°ë¥¼ insertOne/insertManyë¡œ ì‚½ì… |
| 2  | ë‚˜ì´ê°€ 26ì„¸ ì´ìƒì¸ ì‚¬ìš©ìë§Œ ì¡°íšŒ (ì •ë ¬ + ì¼ë¶€ í•„ë“œë§Œ í‘œì‹œ) |
| 3  | íŠ¹ì • ì‚¬ìš©ìì˜ ì´ë©”ì¼ì„ ìˆ˜ì •                      |
| 4  | ì „ì²´ ì‚¬ìš©ìì—ê²Œ `isActive: true` í•„ë“œ ì¶”ê°€      |
| 5  | 25ì„¸ ë¯¸ë§Œ ì‚¬ìš©ìëŠ” ì‚­ì œ                       |

---

## ğŸ§© ìì£¼ ì“°ëŠ” ì—°ì‚°ì ìš”ì•½

| ì—°ì‚°ì                          | ì„¤ëª…        |
| ---------------------------- | --------- |
| `$set`                       | í•„ë“œë¥¼ ì¶”ê°€/ìˆ˜ì • |
| `$unset`                     | í•„ë“œë¥¼ ì œê±°    |
| `$gt`, `$lt`, `$gte`, `$lte` | ë¹„êµ ì—°ì‚°ì    |
| `$in`, `$nin`                | ê°’ í¬í•¨ ì—¬ë¶€   |
| `$regex`                     | ì •ê·œ í‘œí˜„ì‹    |
| `$or`, `$and`                | ë…¼ë¦¬ ì—°ì‚°ì    |

---

## ğŸ“ ì‹¤ë¬´ íŒ

* `ObjectId("...")`ë¡œ `_id` ê²€ìƒ‰ ê°€ëŠ¥
* ë³µì¡í•œ í•„í„° ì¡°ê±´ì€ `find()` ì•ˆì— JSON êµ¬ì¡°ë¡œ í‘œí˜„
* ë°ì´í„°ë¥¼ ì¡°íšŒí•œ í›„ ìˆ˜ì •í•  ë•ŒëŠ” `find()` â†’ `update()`
* Compass(GUI)ë¥¼ ì‚¬ìš©í•˜ë©´ ê²°ê³¼ í™•ì¸ì´ ë” ì‰¬ì›€

---

## ğŸ“˜ ë§ˆë¬´ë¦¬ ì •ë¦¬

* CRUDëŠ” ëª¨ë“  MongoDB ì‘ì—…ì˜ í•µì‹¬
* ë°ì´í„°ë¥¼ ë‹¤ë£° ë•ŒëŠ” ì¡°ê±´ í•„í„°ì™€ ì—°ì‚°ìì— ìµìˆ™í•´ì ¸ì•¼ í•¨
* ì‹¤ìŠµì„ ë°˜ë³µí•˜ë©° ëª…ë ¹ì–´ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ìµíˆì

---

## ğŸ“¦ ë³´ë„ˆìŠ¤ ì‹¤ìŠµ: ê²Œì‹œíŒ DB

```js
use boardDB

db.posts.insertOne({
  title: "ì²« ê¸€ì…ë‹ˆë‹¤",
  author: "admin",
  content: "MongoDBëŠ” ì‰½ê³  ê°•ë ¥í•´ìš”!",
  createdAt: new Date()
})

db.posts.find()
```


# MongoDB ì™„ì „ í•™ìŠµ ê°€ì´ë“œ

## ëª©ì°¨
1. [MongoDB ì†Œê°œ](#1-mongodb-ì†Œê°œ)
2. [ì„¤ì¹˜ ë° ì„¤ì •](#2-ì„¤ì¹˜-ë°-ì„¤ì •)
3. [ê¸°ë³¸ ê°œë…](#3-ê¸°ë³¸-ê°œë…)
4. [CRUD ì—°ì‚°](#4-crud-ì—°ì‚°)
5. [ì¿¼ë¦¬ ë° í•„í„°ë§](#5-ì¿¼ë¦¬-ë°-í•„í„°ë§)
6. [ì¸ë±ì‹±](#6-ì¸ë±ì‹±)
7. [ì§‘ê³„(Aggregation)](#7-ì§‘ê³„aggregation)
8. [ë°ì´í„° ëª¨ë¸ë§](#8-ë°ì´í„°-ëª¨ë¸ë§)
9. [ë³µì œ ë° ìƒ¤ë”©](#9-ë³µì œ-ë°-ìƒ¤ë”©)
10. [ì„±ëŠ¥ ìµœì í™”](#10-ì„±ëŠ¥-ìµœì í™”)
11. [ë³´ì•ˆ](#11-ë³´ì•ˆ)
12. [ì‹¤ì œ í”„ë¡œì íŠ¸ ì˜ˆì œ](#12-ì‹¤ì œ-í”„ë¡œì íŠ¸-ì˜ˆì œ)

---

## 1. MongoDB ì†Œê°œ

### 1.1 MongoDBë€?
MongoDBëŠ” NoSQL ë¬¸ì„œ ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. JSONê³¼ ìœ ì‚¬í•œ BSON(Binary JSON) í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©°, ìŠ¤í‚¤ë§ˆê°€ ìœ ì—°í•˜ê³  í™•ì¥ì„±ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.

### 1.2 íŠ¹ì§•
- **ë¬¸ì„œ ì§€í–¥**: JSON í˜•íƒœì˜ ë¬¸ì„œë¡œ ë°ì´í„° ì €ì¥
- **ìŠ¤í‚¤ë§ˆ ìœ ì—°ì„±**: ê³ ì •ëœ ìŠ¤í‚¤ë§ˆ ì—†ì´ ë™ì  êµ¬ì¡° ì§€ì›
- **í™•ì¥ì„±**: ìˆ˜í‰ì  í™•ì¥(ìƒ¤ë”©) ì§€ì›
- **ê³ ì„±ëŠ¥**: ì¸ë±ì‹±ê³¼ ì§‘ê³„ íŒŒì´í”„ë¼ì¸ ì œê³µ
- **ê³ ê°€ìš©ì„±**: ë³µì œ ì„¸íŠ¸ë¥¼ í†µí•œ ìë™ ì¥ì•  ë³µêµ¬

### 1.3 ì–¸ì œ ì‚¬ìš©í•˜ë‚˜?
- ë¹ ë¥¸ ê°œë°œì´ í•„ìš”í•œ ê²½ìš°
- ìŠ¤í‚¤ë§ˆê°€ ìì£¼ ë³€ê²½ë˜ëŠ” ê²½ìš°
- ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°
- ë³µì¡í•œ ì¡°ì¸ì´ ì ì€ ê²½ìš°

---

## 2. ì„¤ì¹˜ ë° ì„¤ì •

### 2.1 Windows ì„¤ì¹˜
```bash
# MongoDB Community Server ë‹¤ìš´ë¡œë“œ
# https://www.mongodb.com/try/download/community

# ì„œë¹„ìŠ¤ ì‹œì‘
net start MongoDB

# MongoDB Compass ì„¤ì¹˜ (GUI ë„êµ¬)
```

### 2.2 macOS ì„¤ì¹˜
```bash
# Homebrew ì‚¬ìš©
brew tap mongodb/brew
brew install mongodb-community

# ì„œë¹„ìŠ¤ ì‹œì‘
brew services start mongodb/brew/mongodb-community
```

### 2.3 Linux ì„¤ì¹˜
```bash
# Ubuntu/Debian
wget -qO - https://www.mongodb.org/static/pgp/server-7.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/7.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-7.0.list
sudo apt-get update
sudo apt-get install -y mongodb-org

# ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start mongod
sudo systemctl enable mongod
```

### 2.4 Docker ì„¤ì¹˜
```bash
# MongoDB ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run --name mongodb -d -p 27017:27017 mongo:latest

# ë°ì´í„° ì˜êµ¬ ì €ì¥
docker run --name mongodb -d -p 27017:27017 -v /my/data:/data/db mongo:latest
```

---

## 3. ê¸°ë³¸ ê°œë…

### 3.1 ìš©ì–´ ë¹„êµ
| RDBMS | MongoDB |
|-------|---------|
| Database | Database |
| Table | Collection |
| Row | Document |
| Column | Field |
| Index | Index |
| Join | Embedded Document or Reference |

### 3.2 ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
```javascript
// MongoDB Shell ì—°ê²°
mongosh

// íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©
use myDatabase

// í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
db

// ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ ì¡°íšŒ
show dbs

// ì»¬ë ‰ì…˜ ëª©ë¡ ì¡°íšŒ
show collections
```

### 3.3 BSON ë°ì´í„° íƒ€ì…
```javascript
{
  "_id": ObjectId("..."),           // ê³ ìœ  ì‹ë³„ì
  "string": "í…ìŠ¤íŠ¸",               // ë¬¸ìì—´
  "number": 42,                     // ìˆ«ì
  "boolean": true,                  // ë¶ˆë¦°
  "array": [1, 2, 3],              // ë°°ì—´
  "object": { "key": "value" },     // ê°ì²´
  "date": new Date(),               // ë‚ ì§œ
  "null": null,                     // null
  "regex": /pattern/i               // ì •ê·œí‘œí˜„ì‹
}
```

---

## 4. CRUD ì—°ì‚°

### 4.1 Create (ìƒì„±)

#### ë‹¨ì¼ ë¬¸ì„œ ì‚½ì…
```javascript
db.users.insertOne({
  name: "í™ê¸¸ë™",
  email: "hong@example.com",
  age: 30,
  address: {
    city: "ì„œìš¸",
    district: "ê°•ë‚¨êµ¬"
  },
  hobbies: ["ë…ì„œ", "ì˜í™”ê°ìƒ"],
  createdAt: new Date()
})
```

#### ë‹¤ì¤‘ ë¬¸ì„œ ì‚½ì…
```javascript
db.users.insertMany([
  {
    name: "ê¹€ì² ìˆ˜",
    email: "kim@example.com",
    age: 25
  },
  {
    name: "ì´ì˜í¬",
    email: "lee@example.com",
    age: 28
  }
])
```

### 4.2 Read (ì¡°íšŒ)

#### ëª¨ë“  ë¬¸ì„œ ì¡°íšŒ
```javascript
db.users.find()

// ì˜ˆì˜ê²Œ ì¶œë ¥
db.users.find().pretty()
```

#### ì¡°ê±´ë¶€ ì¡°íšŒ
```javascript
// ë‹¨ì¼ ì¡°ê±´
db.users.find({ name: "í™ê¸¸ë™" })

// ë‹¤ì¤‘ ì¡°ê±´ (AND)
db.users.find({ 
  age: { $gte: 25 }, 
  "address.city": "ì„œìš¸" 
})

// OR ì¡°ê±´
db.users.find({
  $or: [
    { age: { $lt: 25 } },
    { age: { $gt: 35 } }
  ]
})
```

#### í”„ë¡œì ì…˜ (í•„ë“œ ì„ íƒ)
```javascript
// íŠ¹ì • í•„ë“œë§Œ ì¡°íšŒ
db.users.find({}, { name: 1, email: 1 })

// íŠ¹ì • í•„ë“œ ì œì™¸
db.users.find({}, { password: 0 })
```

#### ì •ë ¬ ë° ì œí•œ
```javascript
// ì •ë ¬ (1: ì˜¤ë¦„ì°¨ìˆœ, -1: ë‚´ë¦¼ì°¨ìˆœ)
db.users.find().sort({ age: -1 })

// ì œí•œ
db.users.find().limit(5)

// ê±´ë„ˆë›°ê¸°
db.users.find().skip(10).limit(5)
```

### 4.3 Update (ìˆ˜ì •)

#### ë‹¨ì¼ ë¬¸ì„œ ìˆ˜ì •
```javascript
db.users.updateOne(
  { name: "í™ê¸¸ë™" },                    // ì¡°ê±´
  { 
    $set: { 
      age: 31,
      "address.district": "ì„œì´ˆêµ¬"
    },
    $push: { hobbies: "ìš´ë™" }          // ë°°ì—´ì— ì¶”ê°€
  }
)
```

#### ë‹¤ì¤‘ ë¬¸ì„œ ìˆ˜ì •
```javascript
db.users.updateMany(
  { age: { $lt: 30 } },
  { $set: { status: "young" } }
)
```

#### ë¬¸ì„œ êµì²´
```javascript
db.users.replaceOne(
  { name: "í™ê¸¸ë™" },
  {
    name: "í™ê¸¸ë™",
    email: "new@example.com",
    age: 32
  }
)
```

### 4.4 Delete (ì‚­ì œ)

#### ë‹¨ì¼ ë¬¸ì„œ ì‚­ì œ
```javascript
db.users.deleteOne({ name: "í™ê¸¸ë™" })
```

#### ë‹¤ì¤‘ ë¬¸ì„œ ì‚­ì œ
```javascript
db.users.deleteMany({ age: { $lt: 20 } })
```

#### ì»¬ë ‰ì…˜ ì „ì²´ ì‚­ì œ
```javascript
db.users.drop()
```

---

## 5. ì¿¼ë¦¬ ë° í•„í„°ë§

### 5.1 ë¹„êµ ì—°ì‚°ì
```javascript
// ê°™ìŒ
db.users.find({ age: 30 })

// í¬ê¸° ë¹„êµ
db.users.find({ age: { $gt: 25 } })      // ì´ˆê³¼
db.users.find({ age: { $gte: 25 } })     // ì´ìƒ
db.users.find({ age: { $lt: 35 } })      // ë¯¸ë§Œ
db.users.find({ age: { $lte: 35 } })     // ì´í•˜
db.users.find({ age: { $ne: 30 } })      // ê°™ì§€ ì•ŠìŒ

// ë²”ìœ„
db.users.find({ age: { $gte: 25, $lte: 35 } })

// í¬í•¨
db.users.find({ age: { $in: [25, 30, 35] } })
db.users.find({ age: { $nin: [25, 30, 35] } })
```

### 5.2 ë…¼ë¦¬ ì—°ì‚°ì
```javascript
// AND (ê¸°ë³¸)
db.users.find({ 
  age: { $gte: 25 }, 
  city: "ì„œìš¸" 
})

// OR
db.users.find({
  $or: [
    { age: { $lt: 25 } },
    { city: "ë¶€ì‚°" }
  ]
})

// NOT
db.users.find({ 
  age: { $not: { $gte: 30 } } 
})

// NOR
db.users.find({
  $nor: [
    { age: { $lt: 25 } },
    { city: "ì„œìš¸" }
  ]
})
```

### 5.3 ë°°ì—´ ì¿¼ë¦¬
```javascript
// ë°°ì—´ ìš”ì†Œ í¬í•¨
db.users.find({ hobbies: "ë…ì„œ" })

// ëª¨ë“  ìš”ì†Œ í¬í•¨
db.users.find({ hobbies: { $all: ["ë…ì„œ", "ì˜í™”ê°ìƒ"] } })

// ë°°ì—´ í¬ê¸°
db.users.find({ hobbies: { $size: 2 } })

// ë°°ì—´ ìš”ì†Œ ì¡°ê±´
db.users.find({ 
  "scores.math": { $gte: 90 } 
})
```

### 5.4 ì •ê·œí‘œí˜„ì‹
```javascript
// íŒ¨í„´ ë§¤ì¹­
db.users.find({ name: /^í™/ })           // í™ìœ¼ë¡œ ì‹œì‘
db.users.find({ name: /ë™$/ })           // ë™ìœ¼ë¡œ ëë‚¨
db.users.find({ name: /ê¸¸/ })            // ê¸¸ í¬í•¨
db.users.find({ email: /@gmail\.com$/}) // Gmail ì£¼ì†Œ
```

### 5.5 ì¡´ì¬ì„± ë° íƒ€ì… ê²€ì‚¬
```javascript
// í•„ë“œ ì¡´ì¬
db.users.find({ phone: { $exists: true } })

// íƒ€ì… ê²€ì‚¬
db.users.find({ age: { $type: "number" } })
db.users.find({ age: { $type: 16 } })    // BSON íƒ€ì… ì½”ë“œ
```

---

## 6. ì¸ë±ì‹±

### 6.1 ì¸ë±ìŠ¤ ê¸°ë³¸
```javascript
// ë‹¨ì¼ í•„ë“œ ì¸ë±ìŠ¤
db.users.createIndex({ email: 1 })       // ì˜¤ë¦„ì°¨ìˆœ
db.users.createIndex({ age: -1 })        // ë‚´ë¦¼ì°¨ìˆœ

// ë³µí•© ì¸ë±ìŠ¤
db.users.createIndex({ 
  "address.city": 1, 
  age: -1 
})

// ê³ ìœ  ì¸ë±ìŠ¤
db.users.createIndex(
  { email: 1 }, 
  { unique: true }
)
```

### 6.2 íŠ¹ìˆ˜ ì¸ë±ìŠ¤
```javascript
// ë¶€ë¶„ ì¸ë±ìŠ¤
db.users.createIndex(
  { age: 1 },
  { partialFilterExpression: { age: { $gte: 18 } } }
)

// í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤
db.articles.createIndex({ 
  title: "text", 
  content: "text" 
})

// ì§€ë¦¬ê³µê°„ ì¸ë±ìŠ¤
db.places.createIndex({ location: "2dsphere" })
```

### 6.3 ì¸ë±ìŠ¤ ê´€ë¦¬
```javascript
// ì¸ë±ìŠ¤ ì¡°íšŒ
db.users.getIndexes()

// ì¸ë±ìŠ¤ ì‚­ì œ
db.users.dropIndex({ email: 1 })
db.users.dropIndex("email_1")

// ëª¨ë“  ì¸ë±ìŠ¤ ì‚­ì œ (_id ì œì™¸)
db.users.dropIndexes()
```

### 6.4 ì¿¼ë¦¬ ì„±ëŠ¥ ë¶„ì„
```javascript
// ì‹¤í–‰ ê³„íš í™•ì¸
db.users.find({ age: 30 }).explain("executionStats")

// ì¸ë±ìŠ¤ íŒíŠ¸
db.users.find({ age: 30 }).hint({ age: 1 })
```

---

## 7. ì§‘ê³„(Aggregation)

### 7.1 ì§‘ê³„ íŒŒì´í”„ë¼ì¸ ê¸°ë³¸
```javascript
db.orders.aggregate([
  { $match: { status: "completed" } },      // í•„í„°ë§
  { $group: { 
    _id: "$customerId", 
    totalAmount: { $sum: "$amount" },
    orderCount: { $sum: 1 }
  }},
  { $sort: { totalAmount: -1 } },          // ì •ë ¬
  { $limit: 10 }                           // ì œí•œ
])
```

### 7.2 ì£¼ìš” ì§‘ê³„ ë‹¨ê³„

#### $match - í•„í„°ë§
```javascript
db.sales.aggregate([
  { $match: { 
    date: { $gte: new Date("2024-01-01") },
    amount: { $gte: 100 }
  }}
])
```

#### $group - ê·¸ë£¹í™”
```javascript
db.sales.aggregate([
  { $group: {
    _id: "$category",
    totalSales: { $sum: "$amount" },
    avgSales: { $avg: "$amount" },
    maxSales: { $max: "$amount" },
    minSales: { $min: "$amount" },
    count: { $sum: 1 }
  }}
])
```

#### $project - í•„ë“œ ë³€í™˜
```javascript
db.users.aggregate([
  { $project: {
    name: 1,
    email: 1,
    fullName: { $concat: ["$firstName", " ", "$lastName"] },
    age: { $subtract: [2024, "$birthYear"] },
    isAdult: { $gte: ["$age", 18] }
  }}
])
```

#### $unwind - ë°°ì—´ í¼ì¹˜ê¸°
```javascript
db.orders.aggregate([
  { $unwind: "$items" },                   // items ë°°ì—´ í¼ì¹˜ê¸°
  { $group: {
    _id: "$items.productId",
    totalQuantity: { $sum: "$items.quantity" }
  }}
])
```

#### $lookup - ì¡°ì¸
```javascript
db.orders.aggregate([
  { $lookup: {
    from: "customers",
    localField: "customerId",
    foreignField: "_id",
    as: "customer"
  }},
  { $unwind: "$customer" }
])
```

#### $sortì™€ $limit
```javascript
db.products.aggregate([
  { $sort: { price: -1 } },               // ê°€ê²© ë‚´ë¦¼ì°¨ìˆœ
  { $limit: 5 }                           // ìƒìœ„ 5ê°œ
])
```

### 7.3 ë³µì¡í•œ ì§‘ê³„ ì˜ˆì œ
```javascript
// ì›”ë³„ ë§¤ì¶œ í†µê³„
db.sales.aggregate([
  { $match: { 
    date: { $gte: new Date("2024-01-01") } 
  }},
  { $group: {
    _id: {
      year: { $year: "$date" },
      month: { $month: "$date" }
    },
    totalSales: { $sum: "$amount" },
    orderCount: { $sum: 1 },
    avgOrderValue: { $avg: "$amount" }
  }},
  { $sort: { "_id.year": 1, "_id.month": 1 } },
  { $project: {
    _id: 0,
    period: { $concat: [
      { $toString: "$_id.year" }, 
      "-", 
      { $toString: "$_id.month" }
    ]},
    totalSales: 1,
    orderCount: 1,
    avgOrderValue: { $round: ["$avgOrderValue", 2] }
  }}
])
```

---

## 8. ë°ì´í„° ëª¨ë¸ë§

### 8.1 ì„ë² ë”© vs ì°¸ì¡°

#### ì„ë² ë”© (Embedding)
```javascript
// ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì™€ ëŒ“ê¸€
{
  _id: ObjectId("..."),
  title: "MongoDB í•™ìŠµí•˜ê¸°",
  content: "...",
  author: "í™ê¸¸ë™",
  comments: [                              // ì„ë² ë”©
    {
      author: "ê¹€ì² ìˆ˜",
      text: "ì¢‹ì€ ê¸€ì´ë„¤ìš”!",
      date: new Date()
    },
    {
      author: "ì´ì˜í¬",
      text: "ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.",
      date: new Date()
    }
  ]
}
```

#### ì°¸ì¡° (Reference)
```javascript
// ì‚¬ìš©ìì™€ ì£¼ë¬¸ (ì°¸ì¡°)
// Users ì»¬ë ‰ì…˜
{
  _id: ObjectId("user1"),
  name: "í™ê¸¸ë™",
  email: "hong@example.com"
}

// Orders ì»¬ë ‰ì…˜
{
  _id: ObjectId("order1"),
  userId: ObjectId("user1"),               // ì°¸ì¡°
  items: [...],
  total: 150000
}
```

### 8.2 ìŠ¤í‚¤ë§ˆ ì„¤ê³„ íŒ¨í„´

#### 1:1 ê´€ê³„
```javascript
// ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´
{
  _id: ObjectId("..."),
  username: "hong123",
  email: "hong@example.com",
  profile: {                               // ì„ë² ë”©
    firstName: "ê¸¸ë™",
    lastName: "í™",
    bio: "ê°œë°œìì…ë‹ˆë‹¤.",
    avatar: "profile.jpg"
  }
}
```

#### 1:N ê´€ê³„ (Few)
```javascript
// ì‚¬ìš©ìì™€ ì£¼ì†Œ (ê°œìˆ˜ê°€ ì ì„ ë•Œ)
{
  _id: ObjectId("..."),
  name: "í™ê¸¸ë™",
  addresses: [                             // ì„ë² ë”©
    {
      type: "home",
      street: "ê°•ë‚¨ëŒ€ë¡œ 123",
      city: "ì„œìš¸"
    },
    {
      type: "office", 
      street: "í…Œí—¤ë€ë¡œ 456",
      city: "ì„œìš¸"
    }
  ]
}
```

#### 1:N ê´€ê³„ (Many)
```javascript
// ì €ìì™€ ì±… (ê°œìˆ˜ê°€ ë§ì„ ë•Œ)
// Authors ì»¬ë ‰ì…˜
{
  _id: ObjectId("author1"),
  name: "í™ê¸¸ë™",
  bio: "..."
}

// Books ì»¬ë ‰ì…˜
{
  _id: ObjectId("book1"),
  title: "MongoDB ì™„ë²½ ê°€ì´ë“œ",
  authorId: ObjectId("author1"),           // ì°¸ì¡°
  isbn: "..."
}
```

#### N:N ê´€ê³„
```javascript
// í•™ìƒê³¼ ê³¼ëª©
// Students ì»¬ë ‰ì…˜
{
  _id: ObjectId("student1"),
  name: "ê¹€í•™ìƒ",
  courseIds: [                             // ì°¸ì¡° ë°°ì—´
    ObjectId("course1"),
    ObjectId("course2")
  ]
}

// Courses ì»¬ë ‰ì…˜
{
  _id: ObjectId("course1"),
  name: "ë°ì´í„°ë² ì´ìŠ¤",
  studentIds: [                            // ì°¸ì¡° ë°°ì—´
    ObjectId("student1"),
    ObjectId("student2")
  ]
}
```

### 8.3 ìŠ¤í‚¤ë§ˆ ê²€ì¦
```javascript
// ì»¬ë ‰ì…˜ ìƒì„± ì‹œ ìŠ¤í‚¤ë§ˆ ì„¤ì •
db.createCollection("users", {
  validator: {
    $jsonSchema: {
      bsonType: "object",
      required: ["name", "email", "age"],
      properties: {
        name: {
          bsonType: "string",
          description: "ì´ë¦„ì€ ë¬¸ìì—´ì´ì–´ì•¼ í•¨"
        },
        email: {
          bsonType: "string",
          pattern: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
          description: "ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì´ì–´ì•¼ í•¨"
        },
        age: {
          bsonType: "int",
          minimum: 0,
          maximum: 150,
          description: "ë‚˜ì´ëŠ” 0-150 ì‚¬ì´ì˜ ì •ìˆ˜ì—¬ì•¼ í•¨"
        }
      }
    }
  }
})
```

---

## 9. ë³µì œ ë° ìƒ¤ë”©

### 9.1 ë³µì œ ì„¸íŠ¸ (Replica Set)

#### ë³µì œ ì„¸íŠ¸ êµ¬ì„±
```javascript
// ë³µì œ ì„¸íŠ¸ ì‹œì‘
mongod --replSet myReplicaSet --port 27017 --dbpath /data/db1
mongod --replSet myReplicaSet --port 27018 --dbpath /data/db2
mongod --replSet myReplicaSet --port 27019 --dbpath /data/db3

// ë³µì œ ì„¸íŠ¸ ì´ˆê¸°í™”
rs.initiate({
  _id: "myReplicaSet",
  members: [
    { _id: 0, host: "localhost:27017", priority: 2 },
    { _id: 1, host: "localhost:27018", priority: 1 },
    { _id: 2, host: "localhost:27019", priority: 1 }
  ]
})
```

#### ë³µì œ ì„¸íŠ¸ ê´€ë¦¬
```javascript
// ìƒíƒœ í™•ì¸
rs.status()

// êµ¬ì„± í™•ì¸
rs.conf()

// ë©¤ë²„ ì¶”ê°€
rs.add("localhost:27020")

// ë©¤ë²„ ì œê±°
rs.remove("localhost:27020")

// ì½ê¸° ì„¤ì • (Secondaryì—ì„œ ì½ê¸° í—ˆìš©)
rs.secondaryOk()
```

### 9.2 ìƒ¤ë”© (Sharding)

#### ìƒ¤ë“œ í´ëŸ¬ìŠ¤í„° êµ¬ì„±
```bash
# Config Server ì‹œì‘
mongod --configsvr --replSet configReplSet --port 27019

# Shard ì„œë²„ ì‹œì‘
mongod --shardsvr --replSet shard1ReplSet --port 27018
mongod --shardsvr --replSet shard2ReplSet --port 27020

# MongoDB Router (mongos) ì‹œì‘
mongos --configdb configReplSet/localhost:27019 --port 27017
```

#### ìƒ¤ë”© ì„¤ì •
```javascript
// ìƒ¤ë“œ ì¶”ê°€
sh.addShard("shard1ReplSet/localhost:27018")
sh.addShard("shard2ReplSet/localhost:27020")

// ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”© í™œì„±í™”
sh.enableSharding("myDatabase")

// ì»¬ë ‰ì…˜ ìƒ¤ë”©
sh.shardCollection("myDatabase.users", { userId: 1 })

// ìƒ¤ë“œ ìƒíƒœ í™•ì¸
sh.status()
```

---

## 10. ì„±ëŠ¥ ìµœì í™”

### 10.1 ì¿¼ë¦¬ ìµœì í™”
```javascript
// 1. ì ì ˆí•œ ì¸ë±ìŠ¤ ì‚¬ìš©
db.users.createIndex({ email: 1, status: 1 })

// 2. ì„ íƒì  í•„ë“œë§Œ ì¡°íšŒ
db.users.find({ status: "active" }, { name: 1, email: 1 })

// 3. ì œí•œëœ ê²°ê³¼ì…‹
db.users.find({ status: "active" }).limit(100)

// 4. íš¨ìœ¨ì ì¸ ì •ë ¬
db.users.find().sort({ createdAt: -1 }).limit(10)
```

### 10.2 ì§‘ê³„ íŒŒì´í”„ë¼ì¸ ìµœì í™”
```javascript
// 1. $matchë¥¼ ë¨¼ì € ì‚¬ìš©í•˜ì—¬ ë¬¸ì„œ ìˆ˜ ì¤„ì´ê¸°
db.orders.aggregate([
  { $match: { status: "completed" } },     // ë¨¼ì € í•„í„°ë§
  { $lookup: { ... } },                    // ê·¸ ë‹¤ìŒ ì¡°ì¸
  { $group: { ... } }
])

// 2. $projectë¡œ ë¶ˆí•„ìš”í•œ í•„ë“œ ì œê±°
db.orders.aggregate([
  { $project: { 
    customerId: 1, 
    amount: 1, 
    date: 1 
  }},                                      // í•„ìš”í•œ í•„ë“œë§Œ
  { $group: { ... } }
])
```

### 10.3 ì—°ê²° í’€ ì„¤ì •
```javascript
// Node.js ë“œë¼ì´ë²„ ì˜ˆì œ
const { MongoClient } = require('mongodb');

const client = new MongoClient(uri, {
  maxPoolSize: 50,                         // ìµœëŒ€ ì—°ê²° ìˆ˜
  minPoolSize: 5,                          // ìµœì†Œ ì—°ê²° ìˆ˜
  maxIdleTimeMS: 30000,                    // ìœ íœ´ ì—°ê²° ìœ ì§€ ì‹œê°„
  serverSelectionTimeoutMS: 5000,          // ì„œë²„ ì„ íƒ íƒ€ì„ì•„ì›ƒ
  socketTimeoutMS: 45000,                  // ì†Œì¼“ íƒ€ì„ì•„ì›ƒ
});
```

### 10.4 ëª¨ë‹ˆí„°ë§
```javascript
// í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‘ì—… í™•ì¸
db.currentOp()

// ëŠë¦° ì¿¼ë¦¬ í”„ë¡œíŒŒì¼ë§ í™œì„±í™”
db.setProfilingLevel(2, { slowms: 100 })

// í”„ë¡œíŒŒì¼ë§ ê²°ê³¼ í™•ì¸
db.system.profile.find().sort({ ts: -1 }).limit(5)

// í†µê³„ ì •ë³´ í™•ì¸
db.stats()
db.users.stats()
```

---

## 11. ë³´ì•ˆ

### 11.1 ì¸ì¦ ë° ê¶Œí•œ

#### ì‚¬ìš©ì ìƒì„±
```javascript
// ê´€ë¦¬ì ì‚¬ìš©ì ìƒì„±
use admin
db.createUser({
  user: "admin",
  pwd: "securePassword123",
  roles: [{ role: "userAdminAnyDatabase", db: "admin" }]
})

// ë°ì´í„°ë² ì´ìŠ¤ë³„ ì‚¬ìš©ì ìƒì„±
use myDatabase
db.createUser({
  user: "appUser",
  pwd: "appPassword123",
  roles: [
    { role: "readWrite", db: "myDatabase" }
  ]
})
```

#### ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
```javascript
// ì»¤ìŠ¤í…€ ì—­í•  ìƒì„±
db.createRole({
  role: "dataAnalyst",
  privileges: [
    { resource: { db: "sales", collection: "" }, actions: ["find"] },
    { resource: { db: "analytics", collection: "" }, actions: ["find", "insert"] }
  ],
  roles: []
})

// ì‚¬ìš©ìì—ê²Œ ì—­í•  ë¶€ì—¬
db.grantRolesToUser("analyst", ["dataAnalyst"])
```

### 11.2 ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
```yaml
# mongod.conf
net:
  port: 27017
  bindIp: 127.0.0.1,10.0.0.1          # íŠ¹ì • IPë§Œ ë°”ì¸ë”©
  
security:
  authorization: enabled                # ì¸ì¦ í™œì„±í™”
  
setParameter:
  authenticationMechanisms: SCRAM-SHA-256
```

### 11.3 ë°ì´í„° ì•”í˜¸í™”
```yaml
# ì €ì¥ ë°ì´í„° ì•”í˜¸í™” (Enterprise)
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile
  
# TLS/SSL ì„¤ì •
net:
  ssl:
    mode: requireSSL
    PEMKeyFile: /path/to/certificate.pem
    CAFile: /path/to/ca.pem
```

---

## 12. ì‹¤ì œ í”„ë¡œì íŠ¸ ì˜ˆì œ

### 12.1 ë¸”ë¡œê·¸ ì‹œìŠ¤í…œ

#### ë°ì´í„° ëª¨ë¸
```javascript
// ì‚¬ìš©ì ì»¬ë ‰ì…˜
{
  _id: ObjectId("..."),
  username: "blogger123",
  email: "blogger@example.com",
  password: "hashedPassword",
  profile: {
    displayName: "ë¸”ë¡œê±°",
    bio: "ê¸°ìˆ  ë¸”ë¡œê·¸ë¥¼ ìš´ì˜í•©ë‹ˆë‹¤.",
    avatar: "avatar.jpg"
  },
  createdAt: new Date(),
  lastLoginAt: new Date()
}

// í¬ìŠ¤íŠ¸ ì»¬ë ‰ì…˜
{
  _id: ObjectId("..."),
  title: "MongoDB í•™ìŠµê¸°",
  slug: "mongodb-learning",
  content: "MongoDBë¥¼ í•™ìŠµí•˜ë©´ì„œ...",
  excerpt: "MongoDB í•™ìŠµ í›„ê¸°",
  authorId: ObjectId("..."),
  tags: ["MongoDB", "Database", "NoSQL"],
  status: "published",
  publishedAt: new Date(),
  createdAt: new Date(),
  updatedAt: new Date(),
  viewCount: 0,
  likeCount: 0,
  comments: [
    {
      _id: ObjectId("..."),
      authorId: ObjectId("..."),
      content: "ì¢‹ì€ ê¸€ì´ë„¤ìš”!",
      createdAt: new Date(),
      likes: 3
    }
  ]
}

// ì¹´í…Œê³ ë¦¬ ì»¬ë ‰ì…˜
{
  _id: ObjectId("..."),
  name: "ê¸°ìˆ ",
  slug: "tech",
  description: "ê¸°ìˆ  ê´€ë ¨ í¬ìŠ¤íŠ¸",
  postCount: 0
}
```

#### ì£¼ìš” ì¿¼ë¦¬ ì˜ˆì œ
```javascript
// ìµœì‹  í¬ìŠ¤íŠ¸ ì¡°íšŒ

---
---

hrì˜ emps ì½œë ‰ì…˜ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

ë¶€ì„œë²ˆí˜¸ 22ë²ˆì— ê·¼ë¬´í•˜ëŠ” ì‚¬ì›ë“¤ì˜
ì´ë¦„, ë‚˜ì´ , ê¸‰ì—¬ë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

find(query, projection)

ë‚˜ì´ëŠ” 50ì„¸ì´ìƒ,
ë¶€ì„œëŠ” 10,20,30ë²ˆë¶€ì„œì— ê·¼ë¬´í•˜ë©°
ê¸‰ì—¬ê°€ 5000ì´ìƒì¸ ì§ì›ì˜ ì •ë³´ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.
ë¶€ì„œë²ˆí˜¸ìˆœìœ¼ë¡œ ì •ë ¬ë°”ëë‹ˆë‹¤.

ë¶€ì„œë³„ë¡œ
í‰ê· ê¸‰ì—¬ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

ë‹¨, ë‚˜ì´ê°€ 50ì„¸ ë¯¸ë§Œì´ê³  ê¸‰ì—¬ê°€ 5000ì´ìƒì¸ ì§ì›ì„ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤.